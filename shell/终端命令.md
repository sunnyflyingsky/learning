通常指用于修改权限，启用和关闭后台运行程序等操作

## 查看

#### jobs

查看当前窗口正在运行的job，

#### top

查看内存以及CPU消耗，后台程序从上往下依次由高到低。

#### bjobs

检查当前已提交的工作

#### bhosts

检查当前服务器节点的运行状态

#### bqueues

查看当前任务队列

#### nvidia-smi

查看GPU运行状态

~~~shell
nvidia-smi						#检查GPU卡的运行状况
nvidia-smi -pm 1				#启动持久性模式(持续模式)
nvidia-smi -L  					#列出所有可用的NVIDIA设备
nvidia-smi dmon					#以1秒的更新间隔监视总体GPU使用情况
nvidia-smi pmon					#以1秒的更新间隔监视每个进程的GPU使用情况
nvidia-smi -l 2  				#隔几秒刷新一下显存状态
nvidia-smi -l 1 --format=csv --filename=report.csv --query-gpu=timestamp,name,index,utilization.gpu,memory.total,memory.used,power.draw
								#将监控结果写入文件，并且指定写入文件的监控字段

~~~

以下为查看GPU的情况图

<img src="C:\ZJS Mine\学习\learning_notebook\images\GPU情况.png" alt="GPU情况"  />

~~~
GPU：本机中的GPU编号（有多块显卡的时候，从0开始编号）图上GPU的编号是：0
Fan：风扇转速（0%-100%），N/A表示没有风扇
Name：GPU类型，图上GPU的类型是：Tesla T4
Temp：GPU的温度（GPU温度过高会导致GPU的频率下降）
Perf：GPU的性能状态，从P0（最大性能）到P12（最小性能），图上是：P0
Persistence-M：持续模式的状态，持续模式虽然耗能大，但是在新的GPU应用启动时花费的时间更少，图上显示的是：off
Pwr：Usager/Cap-能耗表示，Usage-用了多少，Cap-总共多少
Bus-Id：GPU总线相关显示，domain：bus：device.function
Disp.A：Display Active ，表示GPU的显示是否初始化
Memory-Usage：显存使用率
Volatile GPU-Util：GPU使用率
Uncorr. ECC：关于ECC的东西，是否开启错误检查和纠正技术，0/disabled,1/enabled
Compute M：计算模式，0/DEFAULT,1/EXCLUSIVE_PROCESS,2/PROHIBITED
Processes：显示每个进程占用的显存使用率、进程号、占用的哪个GPU
~~~



#### df

显示目前在 Linux 系统上的文件系统磁盘使用情况统计

~~~shell
df [options] [FILE]
-a, --all 				#包含所有的具有 0 Blocks 的文件系统
--block-size={SIZE} 	#使用 {SIZE} 大小的 Blocks
-h, --human-readable 	#使用人类可读的格式(预设值是不加这个选项的...)
-H, --si 				#很像 -h, 但是用 1000 为单位而不是用 1024
-i, --inodes 			#列出 inode 资讯，不列出已使用 block
-l, --local 			#限制列出的文件结构
-P, --portability 		#使用 POSIX 输出格式
-t, --type=TYPE 		#限制列出文件系统的 TYPE
-T, --print-type 		#显示文件系统的形式
-x, --exclude-type=TYPE #限制列出文件系统不要显示 TYPE

~~~



## 后台运行

#### nohup

print输出转载到文件内，不在屏幕上打印

#### &

后台挂起，关闭窗口不会终止项目

#### disown

如果运行任务时没有加 nohup 命令，但任务运行时间长，但又必须断开（比如快下班了），若不想让任务因为断开远程连接而中断，可以用 disown 命令补救

```shell
./run.sh	# 假如任务是直接这样开始跑的
ctrl + z	# 按ctrl + z，将任务放到后台
jobs		# 输入jobs命令，回车，可以看到任务是暂停的： [1]+  Stopped(SIGTSTP)        bash run.sh
bg			# 让后台暂停的任务开始运行
jobs		# 再次运行jobs，可以看到任务已经跑起来了：   [1]+  Running                 bash run.sh &
disown -r 	# 从当前shell中移除运行中的作业，至此，可以关掉终端回家了
```

#### bsub

提交任务

~~~shell
bsub -o output.txt -e err.log -q Z-ZQF -m node533 -n 1 "xxx"
-o output.txt	#输出print文件
-e err.log		#输出exception error文件
-n 1			#占用线程数
-q Z-ZQF		#调用的服务器名称
-m node351		#运行的集群节点
~~~





## 更改运行状态

#### kill 

kill pid 强制关闭某一进程，pid是该进程的进程号

#### killall

killall -9 pid等同于kill pid。killall还有很多其他功能。

#### bkill

结束任务

~~~
bkill pid
~~~



## 命令帮助



#### man 

获得帮助

 等同于--help



## 替换SHELL

#### chsh

```shell
[root@z home]# chsh -l  ---查看所有的shell以及路径
/bin/sh
/bin/bash
/sbin/nologin
/bin/zsh
```



```shell
cat /etc/passwd|grep "username" ---查看当前用户所用的shell
chsh -s /bin/csh "username" ---更改当前用户的shell
```

#### ssh

~~~shell
ssh -Y zhangjs@ip #跳到指定ip地址的账户上
~~~











